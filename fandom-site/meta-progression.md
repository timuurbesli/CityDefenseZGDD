# Meta Progression (Research System)

The '''Meta Progression''' system in City Defense Z provides permanent upgrades that persist across all runs, allowing players to grow stronger over time through strategic investment of [[File:Research_Icon.png|32px]] '''Research Points'''.

== Overview ==

The Research system follows a '''three-tier progression structure''' that rewards both short-term tactical play and long-term strategic planning:

{| class="wikitable" style="width:100%;"
! style="width:15%;" | '''Tier'''
! style="width:20%;" | '''Scope'''
! style="width:65%;" | '''Key Elements'''
|-
| '''Session''' || Within Single Run || Building/resource evolution, tactical mastery, strategic learning
|-
| '''Campaign''' || Across Multiple Runs || Research Point upgrades, map unlocks, system access, NPC collection  
|-
| '''Mastery''' || Long-term Engagement || Strategic optimization, build variety, challenge completion
|}

== Research Points ==

[[File:Research_Icon.png|32px]] '''Research Points (RP)''' are the primary currency for permanent upgrades.

=== Generation Sources ===
* '''[[File:LaboratoryIcon.png|32px]] <span style="color:blue">'''[[Buildings#Laboratory Buildings (Blue)|Laboratory Buildings]]'''</span>''' - Primary generation method
* '''Expeditions''' - Secondary RP source
* '''Run Completion''' - Bonus RP for successful defense
* '''3-Day Offerings''' - Special ritual rewards
* '''Map Completion''' - Milestone bonuses (25-150 RP)
* '''Boss Defeats''' - Major achievement rewards
* '''Achievements''' - Various completion bonuses

'''Typical Yield:''' 15-60 RP per standard run, with milestone bonuses providing 25-150 RP.

== Upgrade Trees ==

The Research system features '''8 major upgrade trees''' with multiple sub-categories and over 40 individual upgrades available:

=== <span style="color:yellow">1. Buildings</span> ===
'''Focus:''' Improves building card level probabilities through RNG enhancement

'''Affects:''' All <span style="color:purple">'''[[Buildings#Building Types & Functions|building types]]'''</span> - Factory, Ammunition, Barracks, Laboratory, and House card probabilities are enhanced based on upgrade level.

==== Building Card Levels - Detailed RNG Progression ====

'''Enhanced Buildings (Level 1 Upgrade)'''
{| class="wikitable" style="text-align:center;"
! Building Level !! Before (Default) !! After (Enhanced) !! Change
|-
| '''L1''' || 80% || 50% || <span style="color:orange;">⬇️ -30%</span>
|-
| '''L2''' || 19% || 30% || <span style="color:green;">⬆️ +11%</span>
|-
| '''L3''' || 1% || 15% || <span style="color:green;">⬆️ +14%</span>
|-
| '''L4''' || 0% || 5% || <span style="color:gold;">✨ NEW</span>
|-
| '''L5''' || 0% || 0% || <span style="color:gray;">➡️ Same</span>
|}

'''Improved Buildings (Level 2 Upgrade)'''
{| class="wikitable" style="text-align:center;"
! Building Level !! Before (Enhanced) !! After (Improved) !! Change
|-
| '''L1''' || 50% || 25% || <span style="color:orange;">⬇️ -25%</span>
|-
| '''L2''' || 30% || 35% || <span style="color:green;">⬆️ +5%</span>
|-
| '''L3''' || 15% || 25% || <span style="color:green;">⬆️ +10%</span>
|-
| '''L4''' || 5% || 12% || <span style="color:green;">⬆️ +7%</span>
|-
| '''L5''' || 0% || 3% || <span style="color:gold;">✨ NEW</span>
|}

'''Advanced Buildings (Level 3 Upgrade)'''
{| class="wikitable" style="text-align:center;"
! Building Level !! Before (Improved) !! After (Advanced) !! Change
|-
| '''L1''' || 25% || 10% || <span style="color:orange;">⬇️ -15%</span>
|-
| '''L2''' || 35% || 25% || <span style="color:orange;">⬇️ -10%</span>
|-
| '''L3''' || 25% || 35% || <span style="color:green;">⬆️ +10%</span>
|-
| '''L4''' || 12% || 25% || <span style="color:green;">⬆️ +13%</span>
|-
| '''L5''' || 3% || 5% || <span style="color:green;">⬆️ +2%</span>
|}

'''Superior Buildings (Level 4 Upgrade)'''
{| class="wikitable" style="text-align:center;"
! Building Level !! Before (Advanced) !! After (Superior) !! Change
|-
| '''L1''' || 10% || 5% || <span style="color:orange;">⬇️ -5%</span>
|-
| '''L2''' || 25% || 15% || <span style="color:orange;">⬇️ -10%</span>
|-
| '''L3''' || 35% || 30% || <span style="color:orange;">⬇️ -5%</span>
|-
| '''L4''' || 25% || 35% || <span style="color:green;">⬆️ +10%</span>
|-
| '''L5''' || 5% || 15% || <span style="color:green;">⬆️ +10%</span>
|}

'''Master Buildings (Level 5 Upgrade - Maximum)'''
{| class="wikitable" style="text-align:center;"
! Building Level !! Before (Superior) !! After (Master) !! Change
|-
| '''L1''' || 5% || 2% || <span style="color:orange;">⬇️ -3%</span>
|-
| '''L2''' || 15% || 8% || <span style="color:orange;">⬇️ -7%</span>
|-
| '''L3''' || 30% || 20% || <span style="color:orange;">⬇️ -10%</span>
|-
| '''L4''' || 35% || 40% || <span style="color:green;">⬆️ +5%</span>
|-
| '''L5''' || 15% || 30% || <span style="color:green;">⬆️ +15%</span>
|}

==== Cumulative Progression Summary ====
{| class="wikitable" style="text-align:center;"
! Upgrade Stage !! L1 Cards !! L2 Cards !! L3 Cards !! L4 Cards !! L5 Cards !! Status
|-
| '''Default''' || 80% || 19% || 1% || 0% || 0% || <span style="color:red;">Basic</span>
|-
| '''Enhanced''' || 50% || 30% || 15% || 5% || 0% || <span style="color:orange;">Improved</span>
|-
| '''Improved''' || 25% || 35% || 25% || 12% || 3% || <span style="color:yellow;">Advanced</span>
|-
| '''Advanced''' || 10% || 25% || 35% || 25% || 5% || <span style="color:lightblue;">Superior</span>
|-
| '''Superior''' || 5% || 15% || 30% || 35% || 15% || <span style="color:purple;">Elite</span>
|-
| '''Master''' || 2% || 8% || 20% || 40% || 30% || <span style="color:gold;">Maximum</span>
|}

'''Strategic Benefits:'''
* '''RNG Enhancement''': Each upgrade level dramatically improves odds of higher-level building cards
* '''Synergy with Rerolls''': Works excellently with <span style="color:purple">'''[[#8. Reroll Cards|Reroll Cards Upgrade]]'''</span> for optimal card hunting
* '''Compound Value''': Higher upgrades unlock access to Level 4 and Level 5 building cards
* '''Meta Investment''': One of the most impactful early-game research investments

=== <span style="color:orange">2. Combat</span> ===
'''Focus:''' Military effectiveness and combat capabilities

The Combat tree features three specialized sub-categories for comprehensive military enhancement:

==== Training ====
'''Description:''' Enhances the default effectiveness and level of all trained soldiers.

{| class="wikitable" style="text-align:center;"
! Level !! Name !! Effect !! Cost
|-
| 1 || Basic Training || +1 Default Soldier Level || [[File:Research_Icon.png|32px]] '''75 RP'''
|-
| 2 || Advanced Training || +2 Default Soldier Level || [[File:Research_Icon.png|32px]] '''125 RP'''
|-
| 3 || Elite Training || +3 Default Soldier Level || [[File:Research_Icon.png|32px]] '''175 RP'''
|-
| 4 || Special Forces || +4 Default Soldier Level || [[File:Research_Icon.png|32px]] '''250 RP'''
|-
| 5 || Legendary Warriors || +5 Default Soldier Level || [[File:Research_Icon.png|32px]] '''350 RP'''
|}

==== Weapons ====
'''Description:''' Enhances combat effectiveness through improved fire rate, reload speed, and damage.

{| class="wikitable" style="text-align:center;"
! Level !! Name !! Effect !! Cost
|-
| 1 || Rapid Fire || Soldiers attack faster || [[File:Research_Icon.png|32px]] '''100 RP'''
|-
| 2 || Quick Reload || -50% reload time || [[File:Research_Icon.png|32px]] '''175 RP'''
|-
| 3 || High Damage || +50% soldier damage || [[File:Research_Icon.png|32px]] '''250 RP'''
|}

==== Airstrike ====
'''Description:''' Improves aerial support through cost reduction, new weapons, and increased effectiveness.

{| class="wikitable" style="text-align:center;"
! Level !! Name !! Effect !! Cost
|-
| 1 || Cheap Strikes || Airstrikes 50% cheaper || [[File:Research_Icon.png|32px]] '''125 RP'''
|-
| 2 || Triple Bomber || 3-bomb launcher plane || [[File:Research_Icon.png|32px]] '''200 RP'''
|-
| 3 || Wide Bombardment || +50% airstrike radius || [[File:Research_Icon.png|32px]] '''300 RP'''
|}

=== <span style="color:gray">3. Walls</span> ===
'''Focus:''' Defensive fortification with capacity, durability, and offensive capabilities

The Walls tree provides comprehensive defensive enhancements across three specialized areas:

==== Wall Capacity ====
'''Description:''' Increases the maximum number of wall segments that can be built.

{| class="wikitable" style="text-align:center;"
! Level !! Name !! Effect !! Cost
|-
| 1 || Extended Walls || Wall capacity +20 || [[File:Research_Icon.png|32px]] '''80 RP'''
|-
| 2 || Expanded Walls || Wall capacity +25 || [[File:Research_Icon.png|32px]] '''160 RP'''
|-
| 3 || Fortified Walls || Wall capacity +30 || [[File:Research_Icon.png|32px]] '''240 RP'''
|-
| 4 || Massive Walls || Wall capacity +35 || [[File:Research_Icon.png|32px]] '''320 RP'''
|}

'''Total Capacity Bonus:''' +110 walls

==== Wall Durability ====
'''Description:''' Increases the health and resilience of all wall segments.

{| class="wikitable" style="text-align:center;"
! Level !! Name !! Effect !! Cost
|-
| 1 || Reinforced Walls || +25% wall HP || [[File:Research_Icon.png|32px]] '''90 RP'''
|-
| 2 || Hardened Walls || +50% wall HP || [[File:Research_Icon.png|32px]] '''180 RP'''
|-
| 3 || Armored Walls || +75% wall HP || [[File:Research_Icon.png|32px]] '''270 RP'''
|-
| 4 || Impenetrable Walls || +100% wall HP || [[File:Research_Icon.png|32px]] '''360 RP'''
|}

'''Total Durability Bonus:''' +250% wall HP

==== Wall Offense ====
'''Description:''' Adds damage and special effects to walls when attacked.

{| class="wikitable" style="text-align:center;"
! Level !! Name !! Effect !! Cost
|-
| 1 || Spiked Walls || Walls deal damage when attacked || [[File:Research_Icon.png|32px]] '''100 RP'''
|-
| 2 || Electrified Walls || Electric damage to attackers || [[File:Research_Icon.png|32px]] '''200 RP'''
|-
| 3 || Toxic Walls || Poison damage over time || [[File:Research_Icon.png|32px]] '''300 RP'''
|-
| 4 || Explosive Walls || Area damage when destroyed || [[File:Research_Icon.png|32px]] '''400 RP'''
|}

=== <span style="color:red">4. Farm</span> ===
'''Focus:''' [[File:FoodIcon.png|32px]] Food security and agricultural efficiency

The Farm tree enhances the <span style="color:red">'''[[Buildings#Farm System (Default Building)|Farm System]]'''</span> across three key areas:

==== Harvest Speed ====
'''Description:''' Reduces the time needed for crop harvests.

{| class="wikitable" style="text-align:center;"
! Level !! Name !! Effect !! Cost
|-
| 1 || Quick Harvest || Crops grow 1 day faster || [[File:Research_Icon.png|32px]] '''60 RP'''
|-
| 2 || Rapid Growth || Crops grow 1 day faster || [[File:Research_Icon.png|32px]] '''120 RP'''
|-
| 3 || Super Growth || Crops grow 1 day faster || [[File:Research_Icon.png|32px]] '''180 RP'''
|-
| 4 || Instant Harvest || Crops grow 1 day faster || [[File:Research_Icon.png|32px]] '''240 RP'''
|}

'''Total Speed Bonus:''' 4 days faster growth

==== Grid Expansion ====
'''Description:''' Adds more grid spaces to the farm for additional crops.

{| class="wikitable" style="text-align:center;"
! Level !! Name !! Effect !! Cost
|-
| 1 || Small Expansion || +1 crop grid expansion || [[File:Research_Icon.png|32px]] '''80 RP'''
|-
| 2 || Medium Expansion || +2 crop grid expansion || [[File:Research_Icon.png|32px]] '''160 RP'''
|-
| 3 || Large Expansion || +3 crop grid expansion || [[File:Research_Icon.png|32px]] '''240 RP'''
|-
| 4 || Massive Expansion || +4 crop grid expansion || [[File:Research_Icon.png|32px]] '''320 RP'''
|}

'''Total Grid Bonus:''' +10 additional crop spaces

==== Harvest Yield ====
'''Description:''' Increases the amount of crops harvested from each plot.

{| class="wikitable" style="text-align:center;"
! Level !! Name !! Effect !! Cost
|-
| 1 || Better Harvest || +25% crop harvest || [[File:Research_Icon.png|32px]] '''70 RP'''
|-
| 2 || Rich Harvest || +50% crop harvest || [[File:Research_Icon.png|32px]] '''140 RP'''
|-
| 3 || Abundant Harvest || +75% crop harvest || [[File:Research_Icon.png|32px]] '''210 RP'''
|-
| 4 || Golden Harvest || +100% crop harvest || [[File:Research_Icon.png|32px]] '''280 RP'''
|}

'''Total Yield Bonus:''' +250% harvest yield

=== <span style="color:blue">5. Laboratory</span> ===
'''Focus:''' Meta progression acceleration

The Laboratory tree enhances <span style="color:blue">'''[[Buildings#Laboratory Buildings (Blue)|Laboratory Buildings]]'''</span> with two specialized upgrade paths:

==== Research Efficiency ====
'''Description:''' Increases research point generation and resource efficiency.

{| class="wikitable" style="text-align:center;"
! Level !! Name !! Effect !! Cost
|-
| 1 || Efficient Research || +50% RP generation || [[File:Research_Icon.png|32px]] '''100 RP'''
|-
| 2 || Optimized Research || +75% RP generation || [[File:Research_Icon.png|32px]] '''200 RP'''
|-
| 3 || Advanced Research || +100% RP generation || [[File:Research_Icon.png|32px]] '''300 RP'''
|-
| 4 || Quantum Research || +150% RP generation || [[File:Research_Icon.png|32px]] '''400 RP'''
|}

'''Total Efficiency Bonus:''' +375% RP generation

==== Research Speed ====
'''Description:''' Reduces research completion time and accelerates discoveries.

{| class="wikitable" style="text-align:center;"
! Level !! Name !! Effect !! Cost
|-
| 1 || Rapid Research || Research 1 day faster || [[File:Research_Icon.png|32px]] '''120 RP'''
|-
| 2 || Accelerated Research || Research 2 days faster || [[File:Research_Icon.png|32px]] '''240 RP'''
|-
| 3 || Lightning Research || Research 3 days faster || [[File:Research_Icon.png|32px]] '''360 RP'''
|-
| 4 || Instant Research || Research 4 days faster || [[File:Research_Icon.png|32px]] '''480 RP'''
|}

'''Total Speed Bonus:''' 10 days faster completion

=== 6. Support ===
'''Focus:''' Expedition and NPC system enhancement

The Support tree provides two specialized enhancement paths:

==== Expeditions ====
'''Description:''' Improves expedition success rates, rewards, and completion time.

{| class="wikitable" style="text-align:center;"
! Level !! Name !! Effect !! Cost
|-
| 1 || Safe Expeditions || +20% survival rate || [[File:Research_Icon.png|32px]] '''120 RP'''
|-
| 2 || Rich Rewards || +50% expedition rewards || [[File:Research_Icon.png|32px]] '''180 RP'''
|-
| 3 || Swift Expeditions || Expeditions 1 day faster || [[File:Research_Icon.png|32px]] '''250 RP'''
|}

==== NPC Buffs ====
'''Description:''' Amplifies the beneficial effects provided by recruited NPCs.

{| class="wikitable" style="text-align:center;"
! Level !! Name !! Effect !! Cost
|-
| 1 || Enhanced NPCs || +50% NPC buff effects || [[File:Research_Icon.png|32px]] '''150 RP'''
|-
| 2 || Empowered NPCs || +75% NPC buff effects || [[File:Research_Icon.png|32px]] '''250 RP'''
|-
| 3 || Legendary NPCs || +100% NPC buff effects || [[File:Research_Icon.png|32px]] '''400 RP'''
|}

'''Total NPC Bonus:''' +225% buff amplification

=== 7. Revive ===
'''Focus:''' Ultimate safety net (Most expensive upgrade tree)

==== Phoenix ====
'''Description:''' Provides multiple chances to recover from defeat.

{| class="wikitable" style="text-align:center;"
! Level !! Name !! Effect !! Cost
|-
| 1 || Phoenix Rising || Revive ability (1 use per run) || [[File:Research_Icon.png|32px]] '''500 RP'''
|-
| 2 || Double Phoenix || Revive ability (2 uses per run) || [[File:Research_Icon.png|32px]] '''750 RP'''
|-
| 3 || Eternal Phoenix || Revive ability (3 uses per run) || [[File:Research_Icon.png|32px]] '''1000 RP'''
|}

'''Revive Effect:''' Burn all standing zombies, respawn base with 30% HP

=== 8. Reroll Cards ===
'''Focus:''' Strategic flexibility in building selection

==== Cards ====
'''Description:''' Adds flexibility to building selection with reroll functionality.

{| class="wikitable" style="text-align:center;"
! Level !! Name !! Effect !! Cost
|-
| 1 || Basic Reroll || Unlocks reroll function || [[File:Research_Icon.png|32px]] '''75 RP'''
|-
| 2 || Extra Reroll || +1 reroll count (2 total) || [[File:Research_Icon.png|32px]] '''125 RP'''
|-
| 3 || More Rerolls || +1 reroll count (3 total) || [[File:Research_Icon.png|32px]] '''175 RP'''
|-
| 4 || Maximum Rerolls || +1 reroll count (4 total) || [[File:Research_Icon.png|32px]] '''250 RP'''
|}



[[Category:Game Systems]]
[[Category:Progression]]
[[Category:Research]]
[[Category:Meta Game]] 